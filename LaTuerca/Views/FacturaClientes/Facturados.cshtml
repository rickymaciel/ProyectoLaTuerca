@model IEnumerable<LaTuerca.Models.FacturaCliente>
@using LaTuerca.Controllers
@{
    EmpresasController empresa = new EmpresasController();
    ViewBag.NombreEmpresa = empresa.getNombreEmpresa();
}

@{
    ViewBag.Title = "Facturas";
}


@if (TempData["notice"] != null)
{
    <div class="pad margin no-print" id="mensaje">
        <div class="callout callout-success" style="margin-bottom: 0!important;">
            <i class="fa fa-check"></i>   @TempData["notice"]
        </div>
    </div>
}
<section class="content">
    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
        <div class="row">
            <div class="col-lg-12">
                <div class="box box-primary">
                    <div class='box-header with-border'>
                        <div class="user-block">
                            <img class="img-circle tip" src="~/Content/img/mundo.jpeg" width="50" title="@ViewBag.NombreEmpresa" alt="@ViewBag.NombreEmpresa">
                            <span class="username"><a href="#" class="text-capitalize">@ViewBag.NombreEmpresa</a></span>
                            <span class='description'>Factura Venta</span>
                        </div>
                        <div class='box-tools btn-group'>
                            <a href="@Url.Action("Presupuestos", "FacturaClientes")" id="" class="btn btn-link btn-sm hidden-lg tip" title="Ver Presupuestos">
                                <i class="ion-clipboard"></i>
                            </a>
                            <a href="@Url.Action("Presupuestos", "FacturaClientes")" id="" class="btn btn-link btn-sm visible-lg tip" title="Ver Presupuestos">
                                <i class="ion-clipboard"></i> <b>Ver Presupuestos</b>
                            </a>
                            <a href="@Url.Action("Factura", "FacturaClientes")" id="" class="btn btn-link btn-sm hidden-lg tip" title="Nueva Factura">
                                <i class="fa fa-files-o"></i>
                            </a>
                            <a href="@Url.Action("Factura", "FacturaClientes")" id="" class="btn btn-link btn-sm visible-lg tip" title="Nueva Factura">
                                <i class="fa fa-files-o"></i> <b>Nueva Factura</b>
                            </a>
                        </div><!-- /.box-tools -->
                    </div><!-- /.box-header -->
                    <div class='box-body'>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="table-responsive">
                                    <table class="table table-condensed table-hover table-striped" id="tablaMenu">
                                        <thead>
                                            <tr>
                                                <th>
                                                    @Html.DisplayNameFor(model => model.Cliente.RazonSocial)
                                                </th>
                                                <th>
                                                    @Html.DisplayNameFor(model => model.Fecha)
                                                </th>
                                                <th>
                                                    @Html.DisplayNameFor(model => model.FechaPago)
                                                </th>
                                                <th>
                                                    @Html.DisplayNameFor(model => model.NumeroFactura)
                                                </th>
                                                <th>
                                                    @Html.DisplayNameFor(model => model.Total)
                                                </th>
                                                <th>
                                                    @Html.DisplayNameFor(model => model.TotalPagado)
                                                </th>
                                                <th>
                                                    @Html.DisplayNameFor(model => model.Metodo)
                                                </th>
                                                <th>
                                                    @Html.DisplayNameFor(model => model.Pagado)
                                                </th>
                                                <th class="col-lg-1"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in Model)
                                        {
                                                <tr>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Cliente.RazonSocial)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Fecha)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.FechaPago)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.NumeroFactura)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Total)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.TotalPagado)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Metodo)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Pagado)
                                                    </td>
                                                    <td class="col-lg-1">
                                                        <div class="btn-group btn-group-justified">
                                                            @Html.ActionLink("Ver Factura", "Pagar", new { id = item.Id }, new { @class = "btn btn-primary btn-xs", @data_original_title = "Ver" })
                                                        </div>
                                                    </td>
                                                </tr>
                                        }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div><!-- /.box-body -->
                    </div><!-- /.box -->
                </div>
            </div>
        </div>
    }
    </section>